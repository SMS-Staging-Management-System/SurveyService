language: java
git:
  depth: false
addons:
  sonarcloud:
    organization: sms-staging-management-system
    token:
      # user
      secure: "WyWCv5652wWHqIwFbhwOJusP24UmaUFnrbDoZPel+hLZFHBWQELuE+YcsRMsUIi52cAxshvcYFm4B/74IQ4IpodpxSmMbETmTx2nYiZtuGI1/PgpmFD9l1OB2QTiEethjB/m+nVPL36db4TKJDrdBfbBWqn0mweyeyTGFi2VVOmmiNIdHSKysP/mKHiC3dCu4NCZ7tbtNoo96OVKxouJgcwEaS68/EqqN1Wlg2yMDz/VkO8PIGTp2CQebanf8bKsLWK7CeJSwcBaToToWh+kvJP+QAHv59nYs8aiAG3yX8M9hwBXjqoWGcBT3mJ9X7+vQhjv1Mi4J05tnQ4VofWxxMN5u9r/8eE88XWLHoLV85y7CTJSWPwCzD/Yqcu5dpk2T1DxWutelUJsF5UFNSHKQQ4KFEGZSCQm2ySBJ8mOfhiTSDOl47uuNYx2XQ3NMIuRRulpT3Y9PthfDDvsz8/v1wOP6cGOnxsw3DVTgArfwx6ZGC7Pg8IXccKiIRyJVcS/j9sGrn3SZOEvnvolVbHI02sKCTnnu/ataX/i9/2Obv+WP+MWo6mUmDRLoquvzi9UiNWuLnKc5bRgls+wC0eo2oUz0rFTHDbYeeVHDjOPwDYPZQRT2sCB94QxY1RuL37/mVezUBXjH+SPDAN5QoeKzc/rG8/9GSWfJ5zry4bGPmg="
      # project
      secure: "KeIfp6i0DGAzYsgsKqCIB0fZp2ADbZYPn4v6R/IrqiiUz9MxLHK64/oViuCn52/jh8dTNfIP/BWNwOczvyGvj7bD2t6ABAUKxmYlDU7Fm7LEoKHfjqg9ggziVgygXaGQAULlB9wL1+64WXHAyURxeCUQNtHwhT95u1wChBhscNb/FM3ooVRAmw9V7htS+hp1gxHkGm77BzbwZfbgRkziEQ3/ThhAJeZZQP5VmBCvbtPFhfV8TqIVSVpNfthpSQHzZslM+nGdhnIn/taYuDWxL0UXXrlLtl7c3vq3v2CpbvjF6r2n55XLu9JFTPlEfyh0UP1APn2YAlZyhLCOalfhuAFN8RfE39DqGwbwG0PhjwbjkSmH8Llc1jYu6qGNElZ9zwe9QHEL5SutFHZxf+0Lrxf+/TH42LgIqVQnDNGj+YiR4Z6D7TaT425pc3EVnFUkPEMHCXxbxxGYnLVdcS9lBxo3WQBgLyJJ0IOQg6af2L3fgbzypEH+N9U7phNZ/IW0+XZwCGaBhsP88n+xLFKAhEXHAmyvaTvXkfvIqiIxDXtlco3trTB0mpEfI6O1TOruAvIFonDEz2KfMhLijT2cYbGzpMd8zeoelsQwQhJwaEAIDX75nPRwCivemGPlMiZba9EM2O+1BdTHDjRzGtHapC4euy6gKu6QwNSr24t1eWs="
jobs:
  include:
  - stage: build
    script:
    - mvn package -DskipTests --quiet
  - stage: test
    script:
    - mvn test --quiet
  - stage: quality
    script:
    - git fetch --all
    - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=SMS-SurveyService-Key
      --quiet
env:
  global:
  - DEPLOYMENT_STAGE: test
  - secure: KAV0lmuThgmB8y+KKrNwXwRLntSUdifsQRBocQfJuRiilS9u1HOKBtwyhqxl5g3FJuUywzxI6vCEfVnoCh53HYGEVYZKsJTJRoJyvLBzZxXaoRNEuA/uebvhxGVSYPcatiiGm2sB3tCgJ0RW+mdeDLaZ0S5EBsOh8CV93v/ZjyRnj83VmdeVN6WXXYjQ7yko7nn/TiwoX27lXlmzY6cz4qDFxqRGxK8hu9lBxe1DST0UBf4VtebkpcV4ut+xuTwd/cFi0Vq1rUyWzBirjBEkxVY8uybyU24ypijQ/IhDv1m06pURmsTmpaJKfKjxuru/+nOtBDQNipL4XxfNT+r7MpUxieVA9PiJkyjN3RauZeLuT/K4P/HuYsKe/Ddeh4lhNXcrWrRPCdEAsZ0lRWeqcesZofqVppHCMkGbbjwLlSpFlgbDG/grNEsOXYxuRuOLbtdHG9ESgLFaSj5MqI6cpKaKGnpvv1XGPVOuobyKKYWT/1VKijq4AZTECc7c6Wa8PojpEsL8AgSFVpru0yoieIKf9R9oTYdc0ObIwtJtLKvEExcm/Z8fqv/hHvM0sr4VLgRJ4SQMCOIEaRjRCB0o1eUhegB5OjYcd3KpErv8Ga/72BKNUj8PbnMqF8KmtQupRdQP4n5zmbdED/inNCMilIHQ+jY8LrgNRTTcGkjEEj8=
  - secure: tldPve5puyJHzjbZKLyiOAq9eSRrbjNVCbI169K6OVOK0zvnZVh1/e139zfor/KkvRRgBsrOPc9rbxS6CEqYjUKCCtGqxazey7sYF1YEobFr+mgLYD2fRwqp2XEXk2TlDurS9q6y01z1mWBbKQcTD3ZmJjCN2o6/h/EklgK6KFjTjtVwZaUDd9VzFOx8H+4IS6eQDIjKACnGzpbPFEOsuS4L6WUc+vYkMiTQa2chO7zUlOnxBC3fvayVMkJ7RcbzyYogRNhs/iXl6ErgF297E8Gf34TAwBT1pRDDc6cusgqaoeS6Hu+EpWO46ohJqTk9viGM7CIdTkTmTq9eQf4Eyi0SOkDnxciKhc9MTQVFuXOpZMF+0kvLLHEyQlFl6sBXcs6spCT5EdusGQpKOhp/VvjtB+MVTXSyey6qrDovgXxc3EuSkmuw/qVVj7wrW8ZG8yBzinKRRImi9LCxd+8h5YAiV88qh1aVN9Ihjy76hLFpBuvRDiiIDOQHLgCzNi0olEnbD6agaFuSxCQIsVdyKc/yp0X5KCgTupxgZf/ScQPB8kTyKTfJv1pMdyMiOQasDhaxAbDvWDiW9Ccz09zfMcE3r59rSdQPF45BbJ5KnDeEEEv5DjQ57EnkBMlbuG506O3vlZBQon3Nkh/l0ZFPEycV3hMaIWTVsmSdcJ9KfNA=
  - secure: KO4JcaTsjLLuORem2baj92+1XW53SBM+QiHeSwkogL1iu75jCCH4JrcBHzZ4Oqe2c9S54Qk1sGZC7aCjg2Is0SRiTy9pemgnG8IubWjVnryhCegwCKXEhuCGUx3qVREDTfMIfWMk2JHmzG4l7HKXgumDtlAnQYRBI5PPen7B5jfwkZHVHmQqtEiFDUyQA9qMtzQ+7j392/qF5fjxAZbb/CAZ2MCRH6SXvSj4phSyw/G80gXMkDnIvJ80P8mNIrRCXFXoXYYgjTPMYjnkKVSZ6VijjjMpPVxO9sLvhAQ2qIx3gJbVojIJ8vgcD93rYwhozndSWcnrn0kyy/eq2bAK2ewgmiSef11cukz/3oyeA+YT5p4BLMEyDiSNVCFQCmh/b8CqQ7KxZjPSYSegRxjAo3ilcOjWUf53hKgWcX1265s8bopqj+kjyMBMGQjcvHG3nfAnsvfm3oCS9nIaNp5YDNCOxLqc2bVTNuz2vNSMW/szkLQxmUyMxWW8ZwXDWDIQPB8/KcWmNALBZ53SNecET5hSY4lQZKta6YfjgmiDYYx5g0scdJJxigjKXTjA6s6wJWzlP031Dp9G9ifbOobBEoIoUk8W4IrQ+4KjKMLn4MmQlGSJ38NZQdR/9HwCPdh19CIJY7ntqtg834He1/yuRZ/Z5kPaRw1NIzRtzAEzZtc=
  - secure: rWAMMDeT1zNkZvrD7gEO+/KTDF7Utdl1t1uAgxcOxGzDEl0v3cnn8rGcclACOpWriMcSklSGu9/EBbRRhal/knW72EqFEIjGqVgJlmNbDs5+xuxxUF32Fz8FgWiOPK6fD0cO3DaREasUbCa+scyOEmAD7beGHdNhJgmqBfQap+HPz16Dg/0bgLrqtmDQIWkdFOvEPuYc0Q8Ud8TV+gdvrNKS81s7dkSso2m2gdZYOmu7MeDx4YBRCeUh/KiyQsOhnShTeRBRdLaKMA9EdbVcbzHwfaiejVhzHM6LmiPwX7o0DsjkQxm7vdi+E6M811yTZjdw9INqGonvEQZ6fssgI/5yJDkGhLh2K58E8I5SFj+lVeaURzLHDiJ177heAuUs55XJrxM9ZnkCDYMwxZmT5Vkhqd8oV4bPoUTL0oRHIKiRf6Znu2+tBoa0E8UGXHwEuG0HMhQLe2k80b0bvq2T+qAuCT6J2Qo6BgdD39vqoAz62CxZvD0tPfra5enOfSvxLdVl2H6X90cFEXGbFhyEz5gS/CMupV0FqX3AkRYwLn7Gjp0yxCWTCGYAEcBXkfG+t0KoOtmpBa8oXFBGQoTCb0iloHqPOtSyxQ8WRfiOMMa7hIZdW5RPyjq7nopHbwqZmStv0+n1Nc1CippyhFpu3FOFJ5iECsYxs4yXceA8P7w=
  - secure: OJRvN+M4w/fT8lLxEowJqqPpY3XgmFfCLyUHp4IMhRWtDZiQpq53QO94s+EAsqVhQeBef7IyoSlTvgWgkeloIzbklbrOhuCjI+ZHhEFeGTSs/Sm0JbBfoZpZNQd/0vTSYJoNbPLcj1f+KbavJDJf/etSNcUj7CJsvWccbuoe5nbCxbxxXa2O7ixS1uaOmLZeZrQlT/eOMIBaL54PZasnzJuA0GkaAzWdcD232Qnn3l6C7zY7cYiZeAkfJ9JFeKJ4o6IKzDVmAtr+BDHpf8L0V0U9El9kpvMi/5nvVCfVhKZ/d4pwsh08YFL5kDq6EHgffNUYMOBvYeDeboOsq25pUEJFSPtMg8vg4JyLKO2UjzuIjS41P58NNp94a8dvyIROeSkyGFgbPRHLsks7kXknoFgjH94qY/Wv3IA80bv8kw5gxwUZqFZQCTYQuzQLEZ/1DSy1EegN4W3q5FZOgOIfZ+M+Akk1rkIQt73vL6HIiJiwPWEmDSiP5NbK+HkqELAgpoidaR3fBZE25uoMx0DDl5gu0xC+l8GtqlgyFnz43GP6Sa7cP95whg4RoAs2YxTzHW+GdjU8TxoTntOgsPbF3IFhiaMS4jLk6A2dY3B6dl50ehT3rtJzpIIUfic+BuwlCRH/GV8yCR6JkUATGknbor6aZLlKP5MJaggWvnqjovo=
  - secure: p1BZqm1rocAv4SUmdg5FXEzKoNlSruIDNLQP0ULiXodvrESugdtLAdQzBP0pQ7ANvWguSu5fFjrCy89r3PiPvYCnJ5JEsB7BZsO0iHQC851TEKp2hhoG5IP5402oG/oVMXWbuKsZJaW7gVVF57okeAjbyO74dl/RUwpgQ+qu1LSLJAM/2dFM4QDLPz7Km/uGaWIuh+xW8s6N3ecU0mnapJkQSm2WE+MmsUdfeegdHuKlju2EmgdFceH1RcfZ2X8ASyF52eAsY1C701NnA51wzvqAqNRtMYDlUFT9eg8lBnp6xMChKeo6H0ewV+LEiCsbfpBxK7fjc3KFfiQEqv6zNGxPSnsZU2VZvKPu1cmX2tqY+dv0UynP/GnriDI7seFmI/IDelnW7TAVhW5fxl6DgnCZDqWKnUks7fLDEViQ51KLnrBKqS1qYFgpFnjD1929psh4Ovz12hnQ54TKkTWSQwoWjYwKyz63rm754o653bzcEtE1Nuq6hBObV5Fiw4n+lkcCJCiaWpNddHmiVbIDEm5BD3+OEr0a+abzr5J3Q3wVY1QMKH3637e2QrEmJXVnuPWoQ4JzRVozRRICWlzb2gR7iacQj2Ckpae000+YQdHdQQdxHlJT+J8Qo6dq09KafxNjYR0qOszEvFbx0C2Ds5qeIfhLQn8e421sSyjP2Qk=
