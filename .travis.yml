language: java
git:
  depth: false
addons:
  sonarcloud:
    organization: sms-staging-management-system
    token:
      # user
      secure: "X4Pqtml9q/ldViG8qea26vFpxAwdDsCrC/T4rJ5UAgSIBhHlrKLNplPg7FqzNrWOveq7nVxSAYX1Q8OSW38zm2ib7OpjrWfMXYM1TtunnlnMHnCHmKy6XJUeph1uvIc3+bmFzTXXGgX5Cvb4H/LGazV+cwAhUkfnangS3cYdScEnrSzyK8Dk2sNrYaahBcsxbmqoh6XaS44U/d6jZT/GtTkP+Jv5D36jMZwTzAuBjWQXXRkHKhFgNbX0F3wj4yFr4HqYxU62dNZzueY2bGXxP6Gd7u0SO36mpk6bMu7CEZdAvvbWfZLlBZ2otr3B47EBmVnE50mlRY/cZ9RtCt9HvhJG0Opg4wnIp/wyT8eV/Io3En3KV2zf529+EfjREk/2OBDGLNY3mWH8rMg8e1LVBr+0/XSGVbzls77WERAP3n4GcprJxlRSZxykPDkSE3S9CHb1iwMDvxQc4lXa/PT1vdmQk+LpaA6GtVEiAxiuGj8lJasJEYCB98dLXCNDZvVYdgiBqZri/VEMjtjP8X20kXsy8jg9glw3CZL47qMXgVg5e8mX1jI0FCQbR5znJcyMGKIftXnEfxRgL1yh1Tjj58fH+RpfUsXswStwRtYmg5PvEF6ZAW7L9q519Var0SeH9yBhs+UNGRFmL9nvGWfGWwarLTYrHE0OGzl52a6FR3s="
      # project
      secure: "z7BzXaU2osfsGY4hBj2R2mhnjGHgiUoYyeNZW52c+cnrOGR/GXpFBgGDlaGtJ9dLmx4UFwkhpuP8Rtx6ATCGcewBggitoy9TZ3+y2oEPpVaZ6yXe2ppvQSvF0QEe5nzrNwyqSLN6gl+wXc0RnHTq6sTN1VuhgwJZnmD2Qfbh7RSa5BAdWghw/2zlal1/zfSd7MFd2dGlZX9EjW2ClvhO4miDXioJQQzUeD2eUHvA/OA+bEQas7cPn5ogkVKEsgCmnZQ26df9tul3o7R7zkjMb6lakh8k6/PypY97Zlb/Ao4Txo+GC0pzDR2jcEgBbsn01Kt9TPPHol+4SGhvBntZaANFsYz97D9RWwtWsKuPOcG9yXx/ZHekuWT4lE+COnDT0+eb/ivlDErbl3F1kN9LHZRVt9qP2LpJzyFjOWGkY624FYgc2wTnjonk6w/49tjrrWChiJhKjf2CPnQaggLw3thst1FY7yWlJGi33gFykL1Y91pOHP8gEDY7YcoEhatiigdY8aVLwt8zz218ThcuFWHlqIfHodx9tOrmypd2w6l0svIWcz1iXlM/SS6Prqwoika/yh3Cm3se10PYyiQnL1sYAXms2LHDm9HMeuK82osF/U6g+6EvP6Z7tokS8i0KSBtJnUAnGqornpzo3QKlQYiFQG/HW335tQiu4EqN8sY="
jobs:
  include:
  - stage: build
    script:
    - mvn package -DskipTests --quiet
  - stage: test
    script:
    - mvn test --quiet
  - stage: quality
    script:
    - git fetch --all
    - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=SMS-SurveyService-Key
      --quiet
env:
  global:
  - DEPLOYMENT_STAGE: test
  - secure: KAV0lmuThgmB8y+KKrNwXwRLntSUdifsQRBocQfJuRiilS9u1HOKBtwyhqxl5g3FJuUywzxI6vCEfVnoCh53HYGEVYZKsJTJRoJyvLBzZxXaoRNEuA/uebvhxGVSYPcatiiGm2sB3tCgJ0RW+mdeDLaZ0S5EBsOh8CV93v/ZjyRnj83VmdeVN6WXXYjQ7yko7nn/TiwoX27lXlmzY6cz4qDFxqRGxK8hu9lBxe1DST0UBf4VtebkpcV4ut+xuTwd/cFi0Vq1rUyWzBirjBEkxVY8uybyU24ypijQ/IhDv1m06pURmsTmpaJKfKjxuru/+nOtBDQNipL4XxfNT+r7MpUxieVA9PiJkyjN3RauZeLuT/K4P/HuYsKe/Ddeh4lhNXcrWrRPCdEAsZ0lRWeqcesZofqVppHCMkGbbjwLlSpFlgbDG/grNEsOXYxuRuOLbtdHG9ESgLFaSj5MqI6cpKaKGnpvv1XGPVOuobyKKYWT/1VKijq4AZTECc7c6Wa8PojpEsL8AgSFVpru0yoieIKf9R9oTYdc0ObIwtJtLKvEExcm/Z8fqv/hHvM0sr4VLgRJ4SQMCOIEaRjRCB0o1eUhegB5OjYcd3KpErv8Ga/72BKNUj8PbnMqF8KmtQupRdQP4n5zmbdED/inNCMilIHQ+jY8LrgNRTTcGkjEEj8=
  - secure: tldPve5puyJHzjbZKLyiOAq9eSRrbjNVCbI169K6OVOK0zvnZVh1/e139zfor/KkvRRgBsrOPc9rbxS6CEqYjUKCCtGqxazey7sYF1YEobFr+mgLYD2fRwqp2XEXk2TlDurS9q6y01z1mWBbKQcTD3ZmJjCN2o6/h/EklgK6KFjTjtVwZaUDd9VzFOx8H+4IS6eQDIjKACnGzpbPFEOsuS4L6WUc+vYkMiTQa2chO7zUlOnxBC3fvayVMkJ7RcbzyYogRNhs/iXl6ErgF297E8Gf34TAwBT1pRDDc6cusgqaoeS6Hu+EpWO46ohJqTk9viGM7CIdTkTmTq9eQf4Eyi0SOkDnxciKhc9MTQVFuXOpZMF+0kvLLHEyQlFl6sBXcs6spCT5EdusGQpKOhp/VvjtB+MVTXSyey6qrDovgXxc3EuSkmuw/qVVj7wrW8ZG8yBzinKRRImi9LCxd+8h5YAiV88qh1aVN9Ihjy76hLFpBuvRDiiIDOQHLgCzNi0olEnbD6agaFuSxCQIsVdyKc/yp0X5KCgTupxgZf/ScQPB8kTyKTfJv1pMdyMiOQasDhaxAbDvWDiW9Ccz09zfMcE3r59rSdQPF45BbJ5KnDeEEEv5DjQ57EnkBMlbuG506O3vlZBQon3Nkh/l0ZFPEycV3hMaIWTVsmSdcJ9KfNA=
  - secure: KO4JcaTsjLLuORem2baj92+1XW53SBM+QiHeSwkogL1iu75jCCH4JrcBHzZ4Oqe2c9S54Qk1sGZC7aCjg2Is0SRiTy9pemgnG8IubWjVnryhCegwCKXEhuCGUx3qVREDTfMIfWMk2JHmzG4l7HKXgumDtlAnQYRBI5PPen7B5jfwkZHVHmQqtEiFDUyQA9qMtzQ+7j392/qF5fjxAZbb/CAZ2MCRH6SXvSj4phSyw/G80gXMkDnIvJ80P8mNIrRCXFXoXYYgjTPMYjnkKVSZ6VijjjMpPVxO9sLvhAQ2qIx3gJbVojIJ8vgcD93rYwhozndSWcnrn0kyy/eq2bAK2ewgmiSef11cukz/3oyeA+YT5p4BLMEyDiSNVCFQCmh/b8CqQ7KxZjPSYSegRxjAo3ilcOjWUf53hKgWcX1265s8bopqj+kjyMBMGQjcvHG3nfAnsvfm3oCS9nIaNp5YDNCOxLqc2bVTNuz2vNSMW/szkLQxmUyMxWW8ZwXDWDIQPB8/KcWmNALBZ53SNecET5hSY4lQZKta6YfjgmiDYYx5g0scdJJxigjKXTjA6s6wJWzlP031Dp9G9ifbOobBEoIoUk8W4IrQ+4KjKMLn4MmQlGSJ38NZQdR/9HwCPdh19CIJY7ntqtg834He1/yuRZ/Z5kPaRw1NIzRtzAEzZtc=
  - secure: rWAMMDeT1zNkZvrD7gEO+/KTDF7Utdl1t1uAgxcOxGzDEl0v3cnn8rGcclACOpWriMcSklSGu9/EBbRRhal/knW72EqFEIjGqVgJlmNbDs5+xuxxUF32Fz8FgWiOPK6fD0cO3DaREasUbCa+scyOEmAD7beGHdNhJgmqBfQap+HPz16Dg/0bgLrqtmDQIWkdFOvEPuYc0Q8Ud8TV+gdvrNKS81s7dkSso2m2gdZYOmu7MeDx4YBRCeUh/KiyQsOhnShTeRBRdLaKMA9EdbVcbzHwfaiejVhzHM6LmiPwX7o0DsjkQxm7vdi+E6M811yTZjdw9INqGonvEQZ6fssgI/5yJDkGhLh2K58E8I5SFj+lVeaURzLHDiJ177heAuUs55XJrxM9ZnkCDYMwxZmT5Vkhqd8oV4bPoUTL0oRHIKiRf6Znu2+tBoa0E8UGXHwEuG0HMhQLe2k80b0bvq2T+qAuCT6J2Qo6BgdD39vqoAz62CxZvD0tPfra5enOfSvxLdVl2H6X90cFEXGbFhyEz5gS/CMupV0FqX3AkRYwLn7Gjp0yxCWTCGYAEcBXkfG+t0KoOtmpBa8oXFBGQoTCb0iloHqPOtSyxQ8WRfiOMMa7hIZdW5RPyjq7nopHbwqZmStv0+n1Nc1CippyhFpu3FOFJ5iECsYxs4yXceA8P7w=
  - secure: OJRvN+M4w/fT8lLxEowJqqPpY3XgmFfCLyUHp4IMhRWtDZiQpq53QO94s+EAsqVhQeBef7IyoSlTvgWgkeloIzbklbrOhuCjI+ZHhEFeGTSs/Sm0JbBfoZpZNQd/0vTSYJoNbPLcj1f+KbavJDJf/etSNcUj7CJsvWccbuoe5nbCxbxxXa2O7ixS1uaOmLZeZrQlT/eOMIBaL54PZasnzJuA0GkaAzWdcD232Qnn3l6C7zY7cYiZeAkfJ9JFeKJ4o6IKzDVmAtr+BDHpf8L0V0U9El9kpvMi/5nvVCfVhKZ/d4pwsh08YFL5kDq6EHgffNUYMOBvYeDeboOsq25pUEJFSPtMg8vg4JyLKO2UjzuIjS41P58NNp94a8dvyIROeSkyGFgbPRHLsks7kXknoFgjH94qY/Wv3IA80bv8kw5gxwUZqFZQCTYQuzQLEZ/1DSy1EegN4W3q5FZOgOIfZ+M+Akk1rkIQt73vL6HIiJiwPWEmDSiP5NbK+HkqELAgpoidaR3fBZE25uoMx0DDl5gu0xC+l8GtqlgyFnz43GP6Sa7cP95whg4RoAs2YxTzHW+GdjU8TxoTntOgsPbF3IFhiaMS4jLk6A2dY3B6dl50ehT3rtJzpIIUfic+BuwlCRH/GV8yCR6JkUATGknbor6aZLlKP5MJaggWvnqjovo=
  - secure: p1BZqm1rocAv4SUmdg5FXEzKoNlSruIDNLQP0ULiXodvrESugdtLAdQzBP0pQ7ANvWguSu5fFjrCy89r3PiPvYCnJ5JEsB7BZsO0iHQC851TEKp2hhoG5IP5402oG/oVMXWbuKsZJaW7gVVF57okeAjbyO74dl/RUwpgQ+qu1LSLJAM/2dFM4QDLPz7Km/uGaWIuh+xW8s6N3ecU0mnapJkQSm2WE+MmsUdfeegdHuKlju2EmgdFceH1RcfZ2X8ASyF52eAsY1C701NnA51wzvqAqNRtMYDlUFT9eg8lBnp6xMChKeo6H0ewV+LEiCsbfpBxK7fjc3KFfiQEqv6zNGxPSnsZU2VZvKPu1cmX2tqY+dv0UynP/GnriDI7seFmI/IDelnW7TAVhW5fxl6DgnCZDqWKnUks7fLDEViQ51KLnrBKqS1qYFgpFnjD1929psh4Ovz12hnQ54TKkTWSQwoWjYwKyz63rm754o653bzcEtE1Nuq6hBObV5Fiw4n+lkcCJCiaWpNddHmiVbIDEm5BD3+OEr0a+abzr5J3Q3wVY1QMKH3637e2QrEmJXVnuPWoQ4JzRVozRRICWlzb2gR7iacQj2Ckpae000+YQdHdQQdxHlJT+J8Qo6dq09KafxNjYR0qOszEvFbx0C2Ds5qeIfhLQn8e421sSyjP2Qk=
